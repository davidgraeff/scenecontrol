<!DOCTYPE html>
<html>
	<head><title>SceneControl</title>
		<script type="text/javascript">
			window.location = 'index.html';
		</script>
	</head>
	<body>
		<div data-role='page' id='editor' data-title='SceneControl' data-theme='d'>
			<script src="editor.js"></script>
		
			<div data-role="header" data-position="fixed" data-theme='d'>
				<h1>Szene: <span class="currentscene">Keine ausgewählt</span> <a href="#" id="btnChangeSceneName">(Namen ändern)</a></h1>
			</div>
			
			<div data-role='content'>
				<!-- Left: Scene list -->
				<div class='content-secondary' id='lefteditpanel'>
						<!-- Template: Scene entry -->
						<script id="sceneitem-template" type="text/x-handlebars-template">
							<li data-icon="false" data-sceneid="{{id}}" id="li{{id}}" data-selected="0">
								<a class="btnSetScene">{{name}}</a>
								<a class="btnSelectScene">Markieren</a>
								<span class="ui-li-count">{{counter}}</span>
							</li>
						</script>
						<ul id="scenelist" data-scroll="true" data-filter="true" data-filter-placeholder="Filter nach Namen..."
							data-split-theme="d" data-split-icon="check" data-inset="true" data-role="listview"
							data-theme="d" data-divider-theme="d" >
							<li id="scenelist_cat_none" data-role="list-divider">Unkategorisiert</li>
						</ul>
				</div><!-- leftside -->
				<!-- Right: Scene items -->
				<div class='content-primary' id='righteditpanel'>
					<!-- Template: Scene item -->
					<script id="sceneitem-service-template" type="text/x-handlebars-template">
						<form class="itemform animated fadeInDown" id="{{formid}}" data-id="{{id}}" data-componentid="{{componentid}}" data-type="{{type}}">
							<ul class="itemcontrols" data-role="listview" data-inset="true" data-divider-theme="{{typetheme}}">
								<li data-role="list-divider">
									<a class="btnSaveSceneitem HeaderButton" data-role="button" data-theme="{{typetheme}}" data-icon="check" data-iconpos="notext">Speichern</a>
									<a class="btnRemoveSceneitem HeaderButton" data-role="button" data-theme="{{typetheme}}" data-icon="minus" data-iconpos="notext">Löschen</a>
									<small style="float:left;">{{type}}</small>
									<center>{{name}}<br />{{subname}}</center>
								</li>
							</ul>
						</form>
					</script>
					<div id="sceneservices"></div>
				</div><!-- rightside -->
			</div><!-- /content -->
			
			<div data-role="footer" data-position="fixed" data-theme='d'> 
				<div class="ui-grid-a ui-bar">
					<div class="ui-block-a"><div data-role="controlgroup" data-type="horizontal">
						<a id="btnAddScene" data-role="button" data-icon="plus" data-mini="true" data-inline="true">Neue Szene</a>
						<a id="btnRemoveSelectedScenes" data-role="button" data-icon="delete" data-mini="true" data-inline="true">Markierte entfernen</a>
						<a id="btnGotoConfig" data-role="button" data-icon="gear" data-mini="true" data-inline="true">Konfiguration</a>
					</div></div>
					<div class="ui-block-b"><span style="float:right"><div data-role="controlgroup" data-type="horizontal">
						<a id="btnChangeTags" data-role="button" data-icon="plus" data-mini="true">Kategorien</a>
						<a id="btnAddSceneItem" data-role="button" data-icon="plus" data-mini="true">Element hinzufügen</a>
					</div></span></div>
				</div>
			</div> 
			<!-- Remove scene confirmation popup -->
			<div data-role="popup" id="removepopup" data-overlay-theme="a">
				<a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
				<div data-role="header" data-theme="a" class="ui-corner-top">
					<h1>Szenen löschen?</h1>
				</div>
				<div data-role="content" data-theme="d" class="ui-corner-bottom ui-content">
					<p>Diese Aktion kann nicht rückgängig gemacht werden.<br />
					Möchtest du "<span class="currentrmscene"></span>" Szenen wirklich entfernen?</p>
					<a id="btnRemoveSelectedScenesConfirm" data-role="button" data-inline="true" data-transition="flow" data-theme="b" style="width:100%">Entfernen</a>  
				</div>
			</div>
			<!-- Create new scene popup -->
			<div data-role="popup" id="newscenenamepopup" data-overlay-theme="a">
				<a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
				<div data-role="header" data-theme="a" class="ui-corner-top">
					<h1>Name der Szene</h1>
				</div>
				<div data-role="content" data-theme="d" class="ui-corner-bottom ui-content">
					<form><input type="text" placeholder="Name" id="newscenename" name="newscenename" value=""  /></form>
					<a id="btnConfirmScenename" data-role="button" data-inline="true" data-transition="flow" data-theme="b" style="width:100%">Szene erstellen</a>  
				</div>
			</div>
			<!-- Create new event, condition, action -->
			<div data-role="popup" id="newsceneitempopup" data-overlay-theme="a">
				<a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
				<div data-role="header" data-theme="a" class="ui-corner-top">
					<h3><span class="currentscene"></span>: <span class="newsceneitemtitle"></span></h3>
				</div>
				<div data-role="content" data-theme="d" class="ui-corner-bottom ui-content">
					<span class="currentscene"></span>: <span class="newsceneitemtitle"></span>
					<form>
						<fieldset id="sceneitem_type" data-role="controlgroup" data-type="horizontal" data-mini="true">
							<input type="radio" name="type_" id="sceneitem_type_event" value="event" checked="checked" />
							<label for="sceneitem_type_event">Ereignis</label>
							<input type="radio" name="type_" id="sceneitem_type_condition" value="condition" checked="checked" />
							<label for="sceneitem_type_condition">Bedingung</label>
							<input type="radio" name="type_" id="sceneitem_type_action" value="action" checked="checked" />
							<label for="sceneitem_type_action">Aktion</label>
						</fieldset>
						<select name="componentid_" id="sceneitem_componentid" ></select>
						<select name="method_" id="sceneitem_method" ></select>
					</form>
					<a id="btnConfirmSceneitem" data-role="button" data-inline="true" data-transition="flow" data-theme="b" style="width:100%">Erstellen</a>  
				</div>
			</div>
			<!-- Change scene tags -->
			<div data-role="popup" id="scenetagspopup" data-overlay-theme="a">
				<a href="#" data-rel="back" data-role="button" data-theme="a" data-icon="delete" data-iconpos="notext" class="ui-btn-right">Close</a>
				<div data-role="header" data-theme="a" class="ui-corner-top">
					<h1><span class="currentscene"></span></h1>
				</div>
				<div data-role="content" data-theme="d" class="ui-corner-bottom ui-content">
					<form>
					<label for="scenetags"><span class="currentscene"></span>-Kategorien (Komma separiert):</label>
					<textarea placeholder="Kategorien" id="scenetags" name="scenetags"></textarea>
					</form>
					<a id="btnConfirmScenetags" data-role="button" data-inline="true" data-transition="flow" data-theme="b" style="width:100%">Kategorien ändern</a>  
				</div>
			</div>
		</div>
	</body>
</html>
