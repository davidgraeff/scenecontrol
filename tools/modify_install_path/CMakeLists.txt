cmake_minimum_required(VERSION 2.8)
find_package(Qt4 COMPONENTS QtCore REQUIRED)

IF (WIN32)
	project(modify_install_path)
	message(STATUS "Configure registry install path modifier")

	ADD_DEFINITIONS(-Wall -W -DQT_NO_CAST_FROM_ASCII -DQT_NO_CAST_TO_ASCII -DQT_USE_FAST_OPERATOR_PLUS -DQT_USE_FAST_CONCATENATION ${QT_DEFINITIONS})

	include_directories(${QT_INCLUDES} ${CMAKE_BINARY_DIR} ${CMAKE_CURRENT_SOURCE_DIR})
	
	add_executable(${PROJECT_NAME} main.cpp )

	target_link_libraries(${PROJECT_NAME} ${QT_QTCORE_LIBRARY})

	INSTALL(TARGETS ${PROJECT_NAME} DESTINATION bin COMPONENT Server)
	#GET_TARGET_PROPERTY(BINARY_NAME ${PROJECT_NAME} OUTPUT_NAME)
	#SET(CPACK_PACKAGE_EXECUTABLES "${CPACK_PACKAGE_EXECUTABLES} ${BINARY_NAME}" CACHE INTERNAL "")
ENDIF(WIN32)
